(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/sqliteDB"],{"07c7":function(e,t,n){"use strict";n.r(t);var o=n("09a1"),s=n.n(o);for(var i in o)"default"!==i&&function(e){n.d(t,e,function(){return o[e]})}(i);t["default"]=s.a},"09a1":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("a34a")),s=i(n("979f"));function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,o,s,i,l){try{var a=e[i](l),c=a.value}catch(u){return void n(u)}a.done?t(c):Promise.resolve(c).then(o,s)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(o,s){var i=e.apply(t,n);function a(e){l(i,o,s,a,c,"next",e)}function c(e){l(i,o,s,a,c,"throw",e)}a(void 0)})}}var c={name:"sqliteDB",data:function(){return{}},methods:{openDB:function(){plus.sqlite.openDatabase({name:"favor",path:"_doc/favor.db",success:function(t){console.log(e("openDatabase success!"," at components\\sqliteDB.vue:19"))},fail:function(t){console.log(e("openDatabase failed: "+JSON.stringify(t)," at components\\sqliteDB.vue:22"))}})},isOpen:function(){return plus.sqlite.isOpenDatabase({name:"favor",path:"_doc/favor.db"})},closeDB:function(){plus.sqlite.closeDatabase({name:"favor",success:function(t){console.log(e("closeDatabase success!"," at components\\sqliteDB.vue:36"))},fail:function(t){console.log(e("closeDatabase failed: "+JSON.stringify(t)," at components\\sqliteDB.vue:39"))}})},init:function(){plus.sqlite.executeSql({name:"favor",sql:'create table if not exists poetry("id" INTEGER PRIMARY KEY ASC AUTOINCREMENT UNIQUE ,"line" VARCHAR,"author" CHAR(10),"origin" VARCHAR)',success:function(t){console.log(e("initialize success!"," at components\\sqliteDB.vue:48"))},fail:function(t){console.log(e("initialize failed: "+JSON.stringify(t)," at components\\sqliteDB.vue:51"))}})},clean:function(){this.excuteSQL("drop table poetry")},excuteSQL:function(t,n){plus.sqlite.executeSql({name:"favor",sql:t,success:function(t){console.log(e("executeSql success!"," at components\\sqliteDB.vue:63"));try{n(1)}catch(t){console.log(e("No callback"," at components\\sqliteDB.vue:67"))}},fail:function(t){console.log(e("executeSql failed: "+JSON.stringify(t)," at components\\sqliteDB.vue:71"))}})},isLineExisted:function(t){console.log(e("promise"," at components\\sqliteDB.vue:76")),console.log(e(t," at components\\sqliteDB.vue:77")),plus.sqlite.selectSql({name:"favor",sql:'select 1 from poetry where line = "'+t+'" limit 1',success:function(t){console.log(e("selectSql success: ",t," at components\\sqliteDB.vue:82"));try{if(console.log(e("datajson:",t[0]["1"]," at components\\sqliteDB.vue:84")),1==t[0]["1"])return console.log(e("存在"," at components\\sqliteDB.vue:86")),s.default.isExisted=1,1}catch(n){return console.log(e("err"," at components\\sqliteDB.vue:91")),s.default.isExisted=0,0}},fail:function(t){console.log(e("selectSql failed: "+JSON.stringify(t)," at components\\sqliteDB.vue:97")),s.default.isExisted=0}}),s.default.isSelectReady=1},insertLine:function(){var t=a(o.default.mark(function t(n,i,l,a){var c=this;return o.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:console.log(e("准备insert"," at components\\sqliteDB.vue:104")),this.isLineExisted(n),console.log(e("等待结束"," at components\\sqliteDB.vue:107")),this.timer=setInterval(function(){console.log(e(s.default.isExisted," at components\\sqliteDB.vue:112")),s.default.isExisted||(c.isOpen()||c.openDB(),c.excuteSQL('insert into poetry (id,line,author,origin) values(null,"'+n+'","'+i+'","'+l+'")',a),a(1),c.isOpen()&&c.closeDB(),console.log(e("ok"," at components\\sqliteDB.vue:119")),clearInterval(c.timer)),s.default.isSelectReady&&(s.default.isSelectReady=0,clearInterval(c.timer))},50),s.default.isExisted=0;case 5:case"end":return t.stop()}},t,this)}));function n(e,n,o,s){return t.apply(this,arguments)}return n}()}};t.default=c}).call(this,n("0de9")["default"])},"40a8":function(e,t,n){"use strict";n.r(t);var o=n("7a5a"),s=n("07c7");for(var i in s)"default"!==i&&function(e){n.d(t,e,function(){return s[e]})}(i);var l=n("2877"),a=Object(l["a"])(s["default"],o["a"],o["b"],!1,null,null,null);t["default"]=a.exports},"7a5a":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement;e._self._c},s=[];n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s})}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/sqliteDB-create-component',
    {
        'components/sqliteDB-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('6e42')['createComponent'](__webpack_require__("40a8"))
        })
    },
    [['components/sqliteDB-create-component']]
]);                
