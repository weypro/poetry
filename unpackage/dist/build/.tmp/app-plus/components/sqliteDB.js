(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/sqliteDB"],{"07c7":function(e,t,n){"use strict";n.r(t);var o=n("09a1"),s=n.n(o);for(var l in o)"default"!==l&&function(e){n.d(t,e,function(){return o[e]})}(l);t["default"]=s.a},"09a1":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=l(n("a34a")),s=l(n("979f"));function l(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,o,s,l,i){try{var c=e[l](i),a=c.value}catch(u){return void n(u)}c.done?t(a):Promise.resolve(a).then(o,s)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(o,s){var l=e.apply(t,n);function c(e){i(l,o,s,c,a,"next",e)}function a(e){i(l,o,s,c,a,"throw",e)}c(void 0)})}}var a={name:"sqliteDB",data:function(){return{}},methods:{openDB:function(){plus.sqlite.openDatabase({name:"favor",path:"_doc/favor.db",success:function(t){console.log(e("openDatabase success!"," at components\\sqliteDB.vue:19"))},fail:function(t){console.log(e("openDatabase failed: "+JSON.stringify(t)," at components\\sqliteDB.vue:22"))}})},isOpen:function(){return plus.sqlite.isOpenDatabase({name:"favor",path:"_doc/favor.db"})},closeDB:function(){plus.sqlite.closeDatabase({name:"favor",success:function(t){console.log(e("closeDatabase success!"," at components\\sqliteDB.vue:36"))},fail:function(t){console.log(e("closeDatabase failed: "+JSON.stringify(t)," at components\\sqliteDB.vue:39"))}})},init:function(){plus.sqlite.executeSql({name:"favor",sql:'create table if not exists poetry("id" INTEGER PRIMARY KEY ASC AUTOINCREMENT UNIQUE ,"line" VARCHAR,"author" CHAR(10),"origin" VARCHAR)',success:function(t){console.log(e("initialize success!"," at components\\sqliteDB.vue:48"))},fail:function(t){console.log(e("initialize failed: "+JSON.stringify(t)," at components\\sqliteDB.vue:51"))}})},clean:function(){this.excuteSQL("drop table poetry"),this.init()},excuteSQL:function(t,n){plus.sqlite.executeSql({name:"favor",sql:t,success:function(t){console.log(e("executeSql success!"," at components\\sqliteDB.vue:64"));try{n(1)}catch(t){console.log(e("No callback"," at components\\sqliteDB.vue:68"))}},fail:function(t){console.log(e("executeSql failed: "+JSON.stringify(t)," at components\\sqliteDB.vue:72"))}})},isLineExisted:function(t){console.log(e("promise"," at components\\sqliteDB.vue:77")),console.log(e(t," at components\\sqliteDB.vue:78")),plus.sqlite.selectSql({name:"favor",sql:'select 1 from poetry where line = "'+t+'" limit 1',success:function(t){console.log(e("selectSql success: ",t," at components\\sqliteDB.vue:83"));try{if(console.log(e("datajson:",t[0]["1"]," at components\\sqliteDB.vue:85")),1==t[0]["1"])return console.log(e("存在"," at components\\sqliteDB.vue:87")),s.default.isExisted=1,1}catch(n){return console.log(e("exist err"," at components\\sqliteDB.vue:92")),s.default.isExisted=0,0}},fail:function(t){console.log(e("selectSql failed: "+JSON.stringify(t)," at components\\sqliteDB.vue:98")),s.default.isExisted=0}}),s.default.isSelectReady=1},insertLine:function(){var t=c(o.default.mark(function t(n,l,i,c){var a=this;return o.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:console.log(e("准备insert"," at components\\sqliteDB.vue:105")),this.isLineExisted(n),console.log(e("等待结束"," at components\\sqliteDB.vue:108")),this.timer=setInterval(function(){console.log(e(s.default.isExisted," at components\\sqliteDB.vue:113")),s.default.isExisted||(a.isOpen()||a.openDB(),a.excuteSQL('insert into poetry (id,line,author,origin) values(null,"'+n+'","'+l+'","'+i+'")',c),c(1),a.isOpen()&&a.closeDB(),console.log(e("ok"," at components\\sqliteDB.vue:120")),clearInterval(a.timer)),s.default.isSelectReady&&(s.default.isSelectReady=0,clearInterval(a.timer))},50),s.default.isExisted=0;case 5:case"end":return t.stop()}},t,this)}));function n(e,n,o,s){return t.apply(this,arguments)}return n}(),getAllData:function(){return console.log(e("hhh"," at components\\sqliteDB.vue:131")),plus.sqlite.selectSql({name:"favor",sql:"select * from poetry",success:function(t){for(var n in console.log(e("selectSql success: "," at components\\sqliteDB.vue:139")),t)console.log(e(t[n]," at components\\sqliteDB.vue:141")),s.default.allPoetryList.push(t[n])},fail:function(t){console.log(e("selectSql failed: "+JSON.stringify(t)," at components\\sqliteDB.vue:146"))}}),console.log(e("end"," at components\\sqliteDB.vue:149")),s.default.allPoetryList}}};t.default=a}).call(this,n("0de9")["default"])},"40a8":function(e,t,n){"use strict";n.r(t);var o=n("71ec"),s=n("07c7");for(var l in s)"default"!==l&&function(e){n.d(t,e,function(){return s[e]})}(l);var i=n("2877"),c=Object(i["a"])(s["default"],o["a"],o["b"],!1,null,null,null);t["default"]=c.exports},"71ec":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement;e._self._c},s=[];n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s})}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/sqliteDB-create-component',
    {
        'components/sqliteDB-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('6e42')['createComponent'](__webpack_require__("40a8"))
        })
    },
    [['components/sqliteDB-create-component']]
]);                
